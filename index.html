
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>LittleQ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="LittleQ">
    

    
    <meta name="description" content="数据开发工程师的成长历程">
<meta property="og:type" content="website">
<meta property="og:title" content="LittleQ">
<meta property="og:url" content="http://sjq597.github.io/index.html">
<meta property="og:site_name" content="LittleQ">
<meta property="og:description" content="数据开发工程师的成长历程">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LittleQ">
<meta name="twitter:description" content="数据开发工程师的成长历程">

    
    <link rel="alternative" href="/atom.xml" title="LittleQ" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="LittleQ" title="LittleQ"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="LittleQ">LittleQ</a></h1>
				<h2 class="blog-motto">爱好：写代码</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:sjq597.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/04/30/ubuntu-scrapy-openssl-opensslv-h/" title="ubuntu scrapy openssl/opensslv.h" itemprop="url">ubuntu scrapy openssl/opensslv.h</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-04-30T04:53:08.000Z" itemprop="datePublished"> 发表于 2017-04-30</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>搞一下爬虫,装了一下scrapy报错:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">build/temp<span class="selector-class">.linux-x86_64-2</span>.<span class="number">7</span>/_openssl<span class="selector-class">.c</span>:<span class="number">434</span>:<span class="number">30</span>: fatal error: openssl/opensslv<span class="selector-class">.h</span>: No such file or di</div><div class="line">rectory</div><div class="line">  compilation terminated.</div><div class="line">  error: command <span class="string">'x86_64-linux-gnu-gcc'</span> failed with exit status <span class="number">1</span></div><div class="line">  </div><div class="line">  ----------------------------------------</div><div class="line">  Failed building wheel <span class="keyword">for</span> cryptography</div><div class="line">  Running setup<span class="selector-class">.py</span> clean <span class="keyword">for</span> cryptography</div></pre></td></tr></table></figure></p>
<p>具体报错就是上面那个:</p>
<blockquote>
<p>fatal error: openssl/opensslv.h</p>
</blockquote>
<p>解决方法很简单:<br><figure class="highlight q"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-<span class="built_in">get</span> install libssl-<span class="built_in">dev</span></div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Python笔记/">Python笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Python/">Python</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/04/30/es-jstorm-flux-java-lang-NoSuchMethodError/" title="es jstorm flux java.lang.NoSuchMethodError" itemprop="url">es jstorm flux java.lang.NoSuchMethodError</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-04-30T02:51:09.000Z" itemprop="datePublished"> 发表于 2017-04-30</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>最近在研究怎么通过Flux来解析日志，前前后后踩了很多坑,毕竟貌似网上也没人这么干过，写一个通用化的代码，只通过配置文件来定义流计算任务．基本上写好了代码,以后再有新的任务都不用再写java代码,然后打包上传提交任务了．<br>开始集群上的jstorm是2.1.1的,并不支持flux方式的提交任务，所有升级了一下到2.2.1版本,最后跑了一下官方的<code>word-count</code>demo成功了.<br>然后开发好了通用的jar包来解析日志，简单来说就是:</p>
<ul>
<li><p>CommonKafkaSpout<br>给构造函数传入指定topic来从kafka读取日志数据</p>
</li>
<li><p>CommonBolt<br>传入解析规则，基本上就是正则表达式,细节不多说了,解析出<code>&lt;key,value&gt;</code></p>
</li>
<li><p>Write2ESBolt<br>把上游的内容写入到es中，构造函数也需要传入es的配置，基本上就是index,type这些</p>
</li>
</ul>
<p>所有的基本走通了之后,开始测试的时候Topology是用java代码写的,在集群上测试之后没啥问题，然后改用<code>yaml</code>文件来定义jstorm任务,结果提交到集群就有问题了,十分的奇怪,照理说<code>word-count</code>demo跑通了应该没啥问题了，但是涉及到真正的实战需要连接kafka,es就出问题了，报错:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.NoSuchMethodError</span>: com<span class="selector-class">.google</span><span class="selector-class">.common</span><span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.MoreExecutors</span><span class="selector-class">.sameThreadExecutor</span></div><div class="line">类似的还有</div><div class="line">NoSuchMethodError: com<span class="selector-class">.google</span><span class="selector-class">.common</span><span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.MoreExecutors</span><span class="selector-class">.directExecutor</span> conflits on Elastic Search jar</div></pre></td></tr></table></figure></p>
<p>然后google了很久，发现这个并不是es的问题，是guava的问题,原文在</p>
<blockquote>
<p><a href="http://stackoverflow.com/questions/20791351/java-lang-nosuchmethoderror-com-google-common-util-concurrent-moreexecutors-sam" target="_blank" rel="external">http://stackoverflow.com/questions/20791351/java-lang-nosuchmethoderror-com-google-common-util-concurrent-moreexecutors-sam</a></p>
</blockquote>
<p>Check your classpath and see what version of guava is being used by your WAR. The error suggests that the version of guava jar being found at runtime does not match the version that was used at compile time.</p>
<p>简单一句话总结就是,jstorm集群上的guava版本和我们写的公共jar包里面的guava版本不一致.然后我去集群上的lib包上看了一下,发现jstorm 2.1.1用的guava是16.01版本的，于是我把集群上所有的机器里面的guava换成了20.0的，然后重启了集群,然后重新提交任务，果然就好使了,从kafka读取日志以及写入es也没问题了，任务终于不报错了.</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Java笔记/">Java笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Java/">Java</a><a href="/tags/ES/">ES</a><a href="/tags/Jstorm/">Jstorm</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/04/09/springmvc-400错误/" title="springmvc 400错误" itemprop="url">springmvc 400错误</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-04-09T03:43:11.000Z" itemprop="datePublished"> 发表于 2017-04-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>前后端交互数据的时候，经常需要前端把数据提交给后端，前端一般就用ajax提交数据，就像下面这样:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$.ajax(&#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">"post"</span>,</div><div class="line">        <span class="attr">url</span>: <span class="string">"pos_url.do"</span>,</div><div class="line">        <span class="attr">contentType</span>: <span class="string">"application/json"</span>,</div><div class="line">        <span class="attr">data</span>: <span class="built_in">JSON</span>.stringify(params),</div><div class="line">        <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">resp</span>) </span>&#123;</div><div class="line">	    xxxx;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">error</span>: <span class="function"><span class="keyword">function</span> (<span class="params">resp</span>) </span>&#123;</div><div class="line">            xxxx;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div></pre></td></tr></table></figure></p>
<p>然后后端采用spring的代码如下:<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@RequestMapping</span>(value = <span class="string">"post_url"</span>, method = RequestMethod.POST)</div><div class="line"><span class="variable">@ResponseBody</span></div><div class="line">public String postURL(<span class="string">@RequestBody JsonParam[] params</span>) &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后就是<code>JsonParam</code>这个类的定义:<br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsonParam</span> <span class="keyword"><span class="keyword">implements</span> <span class="type">Serializable</span></span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">String</span> value;</div></pre></td></tr></table></figure></p>
<p>这样的话是可以从后端接受参数的，但是后来觉得这个<code>JsonParam</code>定义的不是很好，所以就把<code>name</code>改成了<code>key</code>,结果就报错了<code>400 bad request</code>,不知道为啥，连请求都报错了，更别说参数的接收和解析了，网上查资料，找到一个答案提示了我:</p>
<blockquote>
<p>Verify the following things:<br>Whether the name of JSON matches the User class’s field name.<br>Also check whether JSON value is supported by the corresponding field name datatype in User class.<br>Do try it, I have faced the same issue numerous times.</p>
</blockquote>
<p>然后我才明白，之前我自定义的Json类的两个属性就是<code>name,value</code>，然后改成<code>key,value</code>就报错了,所以错误的根源应该就是前端传过来的数据是<code>name=xxx,value=xxx</code>的数据格式,然后后端想按<code>key=xxx,value=xxx</code>这样来接收解析，然后就报<code>400 bad request</code>这个错误了,如果直接使用request来接收应该就没有这个问题了，但是参数和参数的值就得自己解析了.</p>
<p>具体的详细策略可以看spring源码,大概就是需要实现一些转化器来实现<code>http--&gt;bean</code>之间的互转</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Java笔记/">Java笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Web/">Web</a><a href="/tags/Java/">Java</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/04/06/Error-creating-beans-and-Injection-of-autowired-dependencies-failed/" title="Error creating beans and Injection of autowired dependencies failed" itemprop="url">Error creating beans and Injection of autowired dependencies failed</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-04-06T12:03:45.000Z" itemprop="datePublished"> 发表于 2017-04-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Spring中需要用到spring的事务回滚,注解方式是最简单易用的，一开始发现spring的事务没有起作用，最后查了很多资料,最后发现是配置文件中没有添加事务注解的配置,所以在spring的配置文件里面加了下面这行:<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;tx:annotation-driven  <span class="keyword">transaction</span>-manager=<span class="string">"transactionManager"</span> /&gt;</div></pre></td></tr></table></figure></p>
<p>结果发现之前可以运行的项目突然不能运行了,涉及到事务注解的service全部无法注入</p>
<p>一般出现这个问题都会去网上查查是不是自己用的注入方式不对,有一些人还建议使用<code>@Resource</code>注解替换<code>@Autowried</code>,我试过时候发现还是不行．后来网上查了一下，其实很多人这么说都是人云亦云，很多人都不知道为什么，就知道<code>@Resource</code>是java自带的注解，所以比<code>@Autowried</code>靠谱,真的是这样吗?其实这个通过查资料就很容易知道并不是这样的:</p>
<ul>
<li>@Autowire </li>
</ul>
<p>默认按照类型装配，默认情况下它要求依赖对象必须存在如果允许为null，可以设置它required属性为false，如果我们想使用按照名称装配，可 以结合@Qualifier注解一起使用;</p>
<ul>
<li>@Resource</li>
</ul>
<p>默认按照名称装配，当找不到与名称匹配的bean才会按照类型装配，可以通过name属性指定，如果没有指定name属 性，当注解标注在字段上，即默认取字段的名称作为bean名称寻找依赖对象，当注解标注在属性的setter方法上，即默认取属性名作为bean名称寻找 依赖对象.</p>
<p>所以说,正常情况下你可以理解为没啥区别,如果非要说后者比前者的优势,那就是减少外部依赖,因为<code>@Autowried</code>是spring提供的.</p>
<p>但是我还是照着网上说的,既然注入失败,那肯定是bean的名字还有类型找不到,所以我尝试强制指定<code>Service</code>的名字:<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Service(<span class="meta-string">"serviceName"</span>)</span></div></pre></td></tr></table></figure></p>
<p>然后在<code>Controller</code>里面注入的时候使用<code>@Resource</code>注解指定名字:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">Resource</span>(<span class="keyword">name</span> = <span class="string">"serviceName"</span>)</div></pre></td></tr></table></figure></p>
<p>结果奇迹出现了,还是报错,不过这个错误和之前不一样了,关键信息如下:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">but was actually of type [com<span class="selector-class">.sun</span><span class="selector-class">.proxy</span>.<span class="variable">$Proxy17</span></div></pre></td></tr></table></figure></p>
<p>这句话什么意思呢?意思是bean的名字是找到了，但是这个类型不符合,所以注入依然失败,总而言之就是我们要注入的<code>Service</code>的类型变成了<code>com.sun.proxy.$Proxy17</code>这个类型了,这是个啥类型？然后我网上查了很久,最后终于在stackoverflow上找到了答案,原来很多人都碰到了这个问题,原帖地址</p>
<blockquote>
<p><a href="http://stackoverflow.com/questions/841231/fixing-beannotofrequiredtypeexception-on-spring-proxy-cast-on-a-non-singleton-be" target="_blank" rel="external">http://stackoverflow.com/questions/841231/fixing-beannotofrequiredtypeexception-on-spring-proxy-cast-on-a-non-singleton-be</a></p>
</blockquote>
<p>摘一段Spring官方的文档:</p>
<blockquote>
<p>Applies to proxy mode only. Controls what type of transactional proxies are created for classes annotated with the @Transactional annotation. If “proxy-target-class” attribute is set to “true”, then class-based proxies will be created. If “proxy-target-class” is “false” or if the attribute is omitted, then standard JDK interface-based proxies will be created. (See the section entitled Section 6.6, “Proxying mechanisms” for a detailed examination of the different proxy types.)</p>
</blockquote>
<p>大概翻译一下就是:是否只采用代理模式来做事务管理,并且有个关键字<code>class-based proxies</code>,这样就不会有类型不匹配的了.<br>而且这个作者的这个问题也是由于他使用的事务注解而导致的,和我的这个问题非常相像，核心意思是这个注解默认是使用系统的代理模式,即<code>com.sun.proxy</code>这个里面的类,但是一般<code>spring</code>的项目都是使用的<code>cglib,aspectj</code>这类的库来做代理的默认实现,所以导致了以上的这种问题,那么解决方法就是将最开始的配置改为:<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;tx:annotation-driven  <span class="keyword">transaction</span>-manager=<span class="string">"transactionManager"</span> proxy-target-<span class="built_in">class</span>=<span class="string">"true"</span>/&gt;</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Java笔记/">Java笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Web/">Web</a><a href="/tags/Java/">Java</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/17/IDEA编译报错unescaped-at-end-of-component/" title="IDEA编译报错unescaped  at end of component" itemprop="url">IDEA编译报错unescaped  at end of component</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-03-17T02:42:00.000Z" itemprop="datePublished"> 发表于 2017-03-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>刚接手个项目，从代码仓库里面直接clone下来,在idea里面运行的时候报错，但是直接在命令行用<code>maven</code>打包又没啥问题。所以我猜想这个错误应该只和idea这个ide有关,网上查了一圈发现并没有什么收获,后来参考一个正确的项目的结构配置把问题解决了,在这里记录一下.</p>
<p>问题特征就是几乎每一个类都会报标题那个错误，而且打开几个java文件,发现一片红,但是idea里面的以来显示jar包都导入了,但是就是无法识别,引入不了,直接打包没啥问题，但是想在Idea里面通过Tomcat里面来启动就会报错,最后也是查了很多资料没解决，在同事的帮助下解决了这个问题。</p>
<p>主要分两步</p>
<ul>
<li>项目结构不对</li>
</ul>
<p>每一个Spring工程必须在Idea里面配置正确，不然有些路径的文件或者包可能读取不到，具体的看<code>Project Structure</code>里面的配置,可以找个正确的项目可以运行的参考参考,需要注意的地方是:</p>
<blockquote>
<p>Modules: 这个地方的模块名和一些Source Roots还有web resource directories看看设置的有没有问题，还有Spring的配置，主要是路径这些配置</p>
</blockquote>
<ul>
<li>打包问题</li>
</ul>
<p>在idea里面打包有两个方式，一个是选war包，另一种是选exploded,这个要在<code>Edit Configguration</code>那看,记得要选第二种方式，即exploded,这个方式和第一个方式有啥不同:<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># war</span></div><div class="line">需要把这个包拷贝到tomcat服务器上，然后解压</div><div class="line"><span class="meta"># exploded</span></div><div class="line">不需要拷贝解压，tomcat会直接读取我们项目的target里面的classes文件，做到调试可更新</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Java笔记/">Java笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/Java/">Java</a><a href="/tags/IDEA/">IDEA</a><a href="/tags/Tomcat/">Tomcat</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/11/Ubuntu-16-04-aria2-百度盘下载/" title="Ubuntu 16.04 aria2 百度盘下载" itemprop="url">Ubuntu 16.04 aria2 百度盘下载</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-03-11T10:56:48.000Z" itemprop="datePublished"> 发表于 2017-03-11</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>由于本人经常在我的vps上下载东西上传到百度云,然后再下载到本地机器,平时的工作环境又是Ubuntu,官方没有提供百度盘的Linux版本,就算有如果不是非会员也很麻烦,限速很蛋疼，最快也就下300多k的速度.网上查了一下,虽然百度盘限速，但是不限下载线程,也就是说其实用浏览器去下载,百度官方限制你的单个http请求的速度,破解方法就是开多个线程,一般10个就够了,带宽够大可以再高点，只要机器扛得住。</p>
<h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><p>需要安装一个软件以及一个chrome的插件</p>
<h4 id="aria2"><a href="#aria2" class="headerlink" title="aria2"></a>aria2</h4><p>这个是Linux下面一个非常优秀的多线程下载工具,安装方法:</p>
<ul>
<li>安装aria2</li>
</ul>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-<span class="keyword">get</span> install aria2</div></pre></td></tr></table></figure>
<ul>
<li>安装BaiduExporter</li>
</ul>
<p>装了这个之后需要配合一个浏览器插件,因为百度盘的文件链接是不能直接下载的，需要安装下Chrome插件<a href="https://github.com/acgotaku/BaiduExporter/blob/master/chrome.crx" target="_blank" rel="external">BaiduExporter</a>,怎么安装Chrome插件就不细讲了，不懂的直接度娘。<br><strong>备注:</strong> 如果是Mac用户可以参考这篇文章<a href="http://www.jianshu.com/p/e5e56a1d25a3" target="_blank" rel="external">Aria2 - 可能是现在下载百度云资料速度最快的方式</a>,由于主要讲Ubuntu下面的配置,这个就不多讲了.</p>
<ul>
<li>下载文件</li>
</ul>
<p>安装好<code>aria2</code>以及<code>BaiduExporter</code>之后,我们以一个百度云里面的文件来做个测试:<br><img src="http://7xn9y9.com1.z0.glb.clouddn.com/Ubuntu%2016.04%20aria2%20%E7%99%BE%E5%BA%A6%E7%9B%98%E4%B8%8B%E8%BD%BD01.png" alt="下载文件链接"><br>注意是勾选所需要下载的文件,然后会多出一个<strong>导出下载</strong>标签页,然后我们需要点列表中的<code>导出下载</code>,然后就会弹出一个框:<br><img src="http://7xn9y9.com1.z0.glb.clouddn.com/Ubuntu%2016.04%20aria2%20%E7%99%BE%E5%BA%A6%E7%9B%98%E4%B8%8B%E8%BD%BD02.png" alt="aria2下载链接框"><br>把框里面的内容全部复制出来,直接丢到终端中执行，注意文件会保存到当前路径,如果你想保存到指定位置，还是先cd到指定目录吧.<br>下载的命令如下:<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">aria2c -c -s1<span class="number">0</span> -k1M -x16 --enable-rpc=false -o <span class="string">'Gantz.O.2016.720p.WEB-DL.AAC2.0.H.264 [MultiSub(Eng,Ita,Por,Rum,Swe,Tur)]v2.mkv'</span> --header <span class="string">"User-Agent: netdisk;5.3.4.5;PC;PC-Windows;5.1.2600;WindowsBaiduYunGuanJia"</span> --header <span class="string">"Referer: http://pan.baidu.com/disk/home"</span> --header <span class="string">"Cookie: BDUSS=FDVnRtbnVaclhoR2dMLWdScHY2TlNFN1h3b3Qyb0stcXgtcXpyS0gtSFpXT3RZSVFBQUFBJCQAAAAAAAAAAAEAAAA7KQQU0KHHv7Tz0KG08wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANnLw1jZy8NYcD; pcsett=1489315049-753101e6547a834c2756fc96703e7839"</span> <span class="string">"https://pcs.baidu.com/rest/2.0/pcs/file?method=download&amp;app_id=250528&amp;path=%2Fapps%2Fbypy%2FGantz.O.2016.720p.WEB-DL.AAC2.0.H.264%20%5BMultiSub(Eng%2CIta%2CPor%2CRum%2CSwe%2CTur)%5Dv2.mkv"</span></div></pre></td></tr></table></figure></p>
<p>看看下载结果:<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">[#<span class="number">99b455</span> <span class="number">2.</span>2GiB/<span class="number">2.</span>2GiB(<span class="number">99</span><span class="symbol">%</span>) CN:<span class="number">10</span> DL:148KiB ETA:<span class="number">1</span> *** Download Progress Summary as of Sat Mar <span class="number">11</span> <span class="number">19</span>:<span class="number">12</span>:<span class="number">58</span> <span class="number">2017</span> *** </div><div class="line">================================================</div><div class="line">[#<span class="number">99b455</span> <span class="number">2.</span>2GiB/<span class="number">2.</span>2GiB(<span class="number">99</span><span class="symbol">%</span>) CN:<span class="number">10</span> DL:92KiB ETA:48s]</div><div class="line">FILE: /home/anonymous/Gantz.O.2016.720p.WEB-DL.AAC2.0.H.264 [MultiSub(Eng,Ita,Por,Rum,Swe,Tur)]v2.mkv</div><div class="line">------------------------------------------------</div><div class="line"></div><div class="line">[#<span class="number">99b455</span> <span class="number">2.</span>2GiB/<span class="number">2.</span>2GiB(<span class="number">99</span><span class="symbol">%</span>) CN:<span class="number">1</span> DL:19KiB ETA:<span class="number">13</span></div><div class="line"><span class="number">03</span>/<span class="number">11</span> <span class="number">19</span>:<span class="number">13</span>:<span class="number">57</span> [NOTICE] Download complete: /home/anonymous/Gantz.O.2016.720p.WEB-DL.AAC2.0.H.264 [MultiSub(Eng,Ita,Por,Rum,Swe,Tur)]v2.mkv</div><div class="line"></div><div class="line">Download Results:</div><div class="line">gid   |stat|avg speed  |path/URI</div><div class="line">======+====+===========+=======================================================</div><div class="line"><span class="number">99b455</span>|OK  |   <span class="number">1.</span>2MiB/s|/home/anonymous/Gantz.O.2016.720p.WEB-DL.AAC2.0.H.264 [MultiSub(Eng,Ita,Por,Rum,Swe,Tur)]v2.mkv</div><div class="line"></div><div class="line">Status Legend:</div><div class="line">(OK):download completed.</div></pre></td></tr></table></figure></p>
<p><strong>备注:</strong>简单说明一下命令行里面的命令<code>s10</code>指下载的线程数为10.开始速度均值为<code>2Mb/s</code>,后面快完成的时候会慢下来，均速大概<code>1.2Mb/s</code>.</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Linux使用/">Linux使用</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/Shell/">Shell</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/02/22/git-常用场景即解决方案/" title="git 常用场景即解决方案" itemprop="url">git 常用场景即解决方案</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-02-22T12:09:41.000Z" itemprop="datePublished"> 发表于 2017-02-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>熟悉了怎么使用git,在基本了解了git的原理的基础上，要解决一些办法其实是知道一些方案的，只是有时候我们对git的众多命令记得不是那么熟。其实常用的一些场景也就那么几个，出了问题也一般就那些，记录一下，方便日后查找。</p>
<h3 id="merge错了分支"><a href="#merge错了分支" class="headerlink" title="merge错了分支"></a>merge错了分支</h3><p>有时候我们在自己的分支A上开发了一段时间，然后我们想把B分支merge到我们的分支A上，然后测试完没啥问题就把此次的结果一起merge到master上。但是在操作的时候不小心把master先merge到了分支A,如果再去merge分支B，那按照正常的流程，只能先把第一次的merge冲突解完了然后才能去merge分支B,然后再解冲突。这样就完全乱了，如何撤销某次merge呢,即让各个分支回到merge之前的状态?</p>
<ul>
<li>reset直接重置到merge之前的版本号</li>
</ul>
<p>此方法比较暴力，即抛弃掉merge之前那个版本号之后的所有提交，如果你在merge之后没有做什么其他的操作，可以直接简单一点，舍弃掉后面的所有提交,不会产生新的commit.<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git checkout branch-A</div><div class="line">git <span class="keyword">reset</span> <span class="comment">--hard &lt;merge前的版本号&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>备注:</strong>其实reset的意思就是用把当前分支的指针设置为你制定的那个版本号，以此达到还原或者说撤销目的。</p>
<ul>
<li>git revert 撤销之前的merge操作</li>
</ul>
<p>如果你在merge错了之后并没有立即发现，然后又提交了几次，然后才发现合并错了，这个时候就不能重置舍弃掉merge后面的提交了，可以使用<code>revert</code>只撤销掉merge那次的变更,此次操作会产生一个commit.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git revert -m <span class="tag">&lt;<span class="name">用1或2指定需要保留的主线</span>&gt;</span> <span class="tag">&lt;<span class="name">需要撤销的合并的sha版本号</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>备注:</strong> 分支的编号一般是按时间顺序决定的，parent分支是1，后面的那个分支是2.这个方法比较绕，一般不会用这个。</p>
<ul>
<li>git revert一般做法</li>
</ul>
<p>一般我们的解决办法其实只是处理我们弄错了的分支，因为虽然我们合并错了，但是master,分支B都是好的，没有多余的提交的，我么你只需要把分支A的问题搞定就行了，此操作也会产生一个新的commit:<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> <span class="keyword">revert </span>&lt;merge操作的版本号&gt;</div></pre></td></tr></table></figure></p>
<h3 id="Git仓库无权限"><a href="#Git仓库无权限" class="headerlink" title="Git仓库无权限"></a>Git仓库无权限</h3><p>这个问题会经常出现，就算是很多用了好几年的程序员，有时候在出现这个问题的时候也不知道怎么解决，一般也就是去网上查一下，然后照着帖子里面弄一下，如果可以了，就再也不管了，如果不行，就接着找，试下一个方法，反正就这么一直试，试到后面总会莫名奇妙的解决了。如果实在不行可能就放大招重装系统或者git了。其实出现这个问题的根本原因就是ssh私钥和公钥的问题，要么是找不到，要么是找到了文件的权限不对.所以在出现这个问题的时候就知道怎么解决了.<br>首先得说明一下下面的两个命令的区别:<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo git pull	/<span class="regexp">/ 读取的配置文件为/root</span><span class="regexp">/.ssh/id</span>_rsa</div><div class="line">git pull	/<span class="regexp">/ 读取的配置文件为~/</span>.ssh/id_rsa</div></pre></td></tr></table></figure></p>
<p>可以试一下有什么区别:</p>
<ul>
<li>ssh -vT git@gitlab.corp.xxx.com</li>
</ul>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/home/</span>anonymous<span class="regexp">/.ssh/</span>id_rsa type <span class="number">1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/home/</span>anonymous<span class="regexp">/.ssh/</span>id_rsa-cert type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/home/</span>anonymous<span class="regexp">/.ssh/</span>id_dsa type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/home/</span>anonymous<span class="regexp">/.ssh/</span>id_dsa-cert type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/home/</span>anonymous<span class="regexp">/.ssh/</span>id_ecdsa type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/home/</span>anonymous<span class="regexp">/.ssh/</span>id_ecdsa-cert type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/home/</span>anonymous<span class="regexp">/.ssh/</span>id_ed25519 type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/home/</span>anonymous<span class="regexp">/.ssh/</span>id_ed25519-cert type <span class="number">-1</span></div></pre></td></tr></table></figure>
<ul>
<li>sudo ssh -vT git@gitlab.corp.xxx.com</li>
</ul>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/root/</span>.ssh/id_rsa type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/root/</span>.ssh/id_rsa-cert type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/root/</span>.ssh/id_dsa type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/root/</span>.ssh/id_dsa-cert type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/root/</span>.ssh/id_ecdsa type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/root/</span>.ssh/id_ecdsa-cert type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/root/</span>.ssh/id_ed25519 type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> <span class="string">key_load_public:</span> No such file or directory</div><div class="line"><span class="string">debug1:</span> identity file <span class="regexp">/root/</span>.ssh/id_ed25519-cert type <span class="number">-1</span></div><div class="line"><span class="string">debug1:</span> Enabling compatibility mode <span class="keyword">for</span> protocol <span class="number">2.0</span></div></pre></td></tr></table></figure>
<p>不同权限加载的文件是不一样的，所以为了知道问题出在哪，首先你得知道在和git仓库同步代码的时候加载的是哪个地方的秘钥文件.<br>知道了加载哪个地方的文件之后，还有一个很重要的问题需要知道,秘钥文件的权限必须是<code>`600</code>,很多时候可能关键的问题还是因为秘钥文件的权限不对</p>
<h1 id="切换相关"><a href="#切换相关" class="headerlink" title="切换相关"></a>切换相关</h1><p>切换有很多，主要是分支切换，版本切换以及文件的切换</p>
<ul>
<li>不同分支间文件切换</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout <span class="tag">&lt;<span class="name">branch_name</span>&gt;</span> -- <span class="tag">&lt;<span class="name">paths</span>&gt;</span></div></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Git/">Git</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/git/">git</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/02/13/fedroa-25-开发常用配置及问题/" title="fedroa 25 开发常用配置及问题" itemprop="url">fedroa 25 开发常用配置及问题</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-02-13T10:04:05.000Z" itemprop="datePublished"> 发表于 2017-02-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>尝鲜使用了一段时间的<code>fedroa</code>,大概使用了一个月吧，之前一直是使用的<code>Ubuntu 16.04</code>,想着和服务器上的<code>CentOS</code>尽量保持一致就装了个<code>Fedroa 25</code>最为日常开发机器，大概用了一个月就放弃了，说句实话，不是很好用,引用一句在<code>stackoverflow</code>上的答案吧，我觉得确实说的很有道理，问题大概是<code>Ubuntu和Fedroa</code>有什么区别，我相信很多同时用过这两个系统的人都可能会问这个问题，那就是作为桌面开发机来说，到底选那个，或者又说这两者都是桌面环境的<code>Linux</code>,哪个更适合作为日常开发使用?<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Ubuntu的使命是使Linux对人更友好，更易于交互</div></pre></td></tr></table></figure></p>
<p>其实你都不可否认，<code>Ubuntu</code>应该是目前为止非常稳定的一个<code>Linux桌面开发环境</code>,这句话在我使用了一个月的<code>Fedroa</code>之后感受尤为深刻。</p>
<p>虽然也能用。碰到了各种问题，花了很多的时间，所以想记下来这些解决的笔记。</p>
<p>##<br>系统Fedroa 25 64bit,以下操作都是在此基础上，其他系统仅做参考。可以先把源设置成阿里的源，那个源比较快。</p>
<h3 id="mysqldb-python"><a href="#mysqldb-python" class="headerlink" title="mysqldb-python"></a>mysqldb-python</h3><p>安装<code>mysqldb</code>报错,错误信息如下:<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">gcc:</span> <span class="symbol">error:</span> /usr/<span class="class"><span class="keyword">lib</span>/<span class="title">rpm</span>/<span class="title">redhat</span>/<span class="title">redhat</span>-<span class="title">hardened</span>-<span class="title">cc1</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></div><div class="line"> <span class="symbol">error:</span> command <span class="string">'gcc'</span> failed <span class="keyword">with</span> exit status <span class="number">1</span></div></pre></td></tr></table></figure></p>
<p>解决方案在<code>stackoverflow</code>上,链接为:<br><a href="http://stackoverflow.com/questions/34624428/g-error-usr-lib-rpm-redhat-redhat-hardened-cc1-no-that-file-and-directory" target="_blank" rel="external">http://stackoverflow.com/questions/34624428/g-error-usr-lib-rpm-redhat-redhat-hardened-cc1-no-that-file-and-directory</a></p>
<h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><p>fedora直接安装vim是会失败的，这个实在是太操蛋了解决方案,先更新系统自带<code>vi</code>,然后才能装.<br>好不容易装好了之后发现，vim里面的东西没有办法用鼠标选中复制到剪贴板，解决方案:<br><a href="http://vi.stackexchange.com/questions/84/how-can-i-copy-text-to-the-system-clipboard-from-vim" target="_blank" rel="external">http://vi.stackexchange.com/questions/84/how-can-i-copy-text-to-the-system-clipboard-from-vim</a></p>
<h3 id="右键菜单打开终端"><a href="#右键菜单打开终端" class="headerlink" title="右键菜单打开终端"></a>右键菜单打开终端</h3><p>之前用<code>Ubuntu</code>一直没觉得这个功能有多么贴心，直到<code>Fedroa</code>中右键菜单没了这个才发现没了这个功能好麻烦，有时候就像在当前目录打开一个终端，还必须打开一个然后一路<code>cd</code>到当前目录，解决方案:<br><a href="https://www.if-not-true-then-false.com/2011/nautilus-open-in-terminal-on-fedora-centos-red-hat-rhel/" target="_blank" rel="external">right clik open terminnal</a></p>
<h3 id="启动栏快捷键"><a href="#启动栏快捷键" class="headerlink" title="启动栏快捷键"></a>启动栏快捷键</h3><p>有时候需要把常用的一些应用固定在左侧启动栏，但是有些解压的软件好像无法<code>Add favourate</code>,此时可以手动编辑<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">~/.<span class="keyword">local</span>/share/applications</div></pre></td></tr></table></figure></p>
<p>下面的<code>xxxx.desktop</code>文件，照着写一个就行.<br>然后写完了可以用系统自带命令验证一下:<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">desktop-<span class="built_in">file</span>-install xxx.desktop</div></pre></td></tr></table></figure></p>
<h3 id="sougo中文输入法"><a href="#sougo中文输入法" class="headerlink" title="sougo中文输入法"></a>sougo中文输入法</h3><p>中文社区有源:<a href="https://www.fdzh.org/blog/2015/10/18/fedora-sougoupinyin/" target="_blank" rel="external">https://www.fdzh.org/blog/2015/10/18/fedora-sougoupinyin/</a></p>
<h3 id="同步盘"><a href="#同步盘" class="headerlink" title="同步盘"></a>同步盘</h3><p>公司把所有外网的网盘封了，内部提供的网盘是<code>ownCloud</code>,安装客户端程序:<br>地址:<a href="https://software.opensuse.org/download/package?project=isv:ownCloud:desktop&amp;package=owncloud-client" target="_blank" rel="external">https://software.opensuse.org/download/package?project=isv:ownCloud:desktop&amp;package=owncloud-client</a></p>
<h3 id="取消左下角托盘"><a href="#取消左下角托盘" class="headerlink" title="取消左下角托盘"></a>取消左下角托盘</h3><p>TopIcons<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dnf <span class="keyword">install</span> gnome-tweak-tool</div></pre></td></tr></table></figure></p>
<p>然后照着github上来:<br><a href="https://github.com/phocean/TopIcons-plus" target="_blank" rel="external">https://github.com/phocean/TopIcons-plus</a></p>
<h3 id="fedroa截屏"><a href="#fedroa截屏" class="headerlink" title="fedroa截屏"></a>fedroa截屏</h3><p>The default behaviour when pressing the PrintScreen key is to automatically place your screenshot in the Pictures folder in your home directory (i.e. “~/Pictures”). The click and the flash mean that the screenshot has been taken, so just check the Pictures folder for your screenshot.</p>
<p>Other than just the “Print Screen’ key, which saves your whole Desktop to the Pictures folder, GNOME3 also has the following shortcuts enabled by default for screenshot actions:</p>
<p>PrintScreen – Takes a screenshot of your entire desktop and saves it to the Pictures folder.<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Alt + PrintScreen <span class="comment">-- Saves a screenshot of the focused window to the Pictures Folder</span></div><div class="line">Shift + PrintScreen <span class="comment">-- Lets you select an area of the screen, and saves to the Pictures Folder</span></div><div class="line">Ctrl + PrintScreen <span class="comment">-- Takes a screenshot of your entire desktop and copies it to the clipboard.</span></div><div class="line">Ctrl + Alt + PrintScreen <span class="comment">-- copies a screenshot of the focused window to the clipboard.</span></div><div class="line">Ctrl + Shift + PrintScreen <span class="comment">-- Lets you select an area of the screen, and copies it to the clipboard.</span></div><div class="line">Ctrl + Shift + Alt + R <span class="comment">-- Records a Screencast) of your entire desktop and saves it to your Videos folder.</span></div></pre></td></tr></table></figure></p>
<h3 id="fedroa-ssh-server"><a href="#fedroa-ssh-server" class="headerlink" title="fedroa ssh server"></a>fedroa ssh server</h3><p>安装完之后执行:<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">systemctl <span class="literal">start</span> sshd</div></pre></td></tr></table></figure></p>
<h3 id="安装mysql"><a href="#安装mysql" class="headerlink" title="安装mysql"></a>安装mysql</h3><p>这个最蛋疼,装完了还有一堆配置非常的麻烦。<br><a href="https://www.if-not-true-then-false.com/2010/install-mysql-on-fedora-centos-red-hat-rhel/" target="_blank" rel="external">https://www.if-not-true-then-false.com/2010/install-mysql-on-fedora-centos-red-hat-rhel/</a><br>如果无法初始化用户的密码，可以在mysql中试试下面的命令:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> authentication_string=<span class="keyword">password</span>(<span class="string">'Root@123'</span>) <span class="keyword">where</span> <span class="keyword">user</span>=<span class="string">'root'</span> <span class="keyword">and</span> host=<span class="string">'localhost'</span>;</div><div class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</div></pre></td></tr></table></figure></p>
<p><strong>备注:</strong>其实可以多折腾一下，但是说实话吧，这个系统的桌面版真的不好用，装个软件非常不方便，尤其是mysql.</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Linux使用/">Linux使用</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/02/07/mysqldb-python-错误汇总分析/" title="mysqldb python 错误汇总分析" itemprop="url">mysqldb python 错误汇总分析</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-02-07T10:10:34.000Z" itemprop="datePublished"> 发表于 2017-02-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>基本上每次在不同的机器上使用<code>MySQLdb-python</code>包都会出莫名奇妙的问题，总结一下，基本上就是<code>fedora,ubuntu,centos</code>这三个系统上的各种问题，其他系统我没有试过，所以以上是使用的前提。</p>
<p>前段时间折腾<code>fedora</code>上安装这个特别麻烦，主要是安装<code>mysql</code>比较麻烦，而且好不容易安装好了，设置密码也非常麻烦，本来就是本机做个简单的测试，太简单的密码还不让过,反正吧，用起来挺麻烦的。后来我就不折腾了，又换回了<code>ubuntu</code>了。<br>问题就出在这里，之前一直是用的<code>virtualenv</code>虚拟<code>python</code>环境做项目开发，<code>python</code>环境一直都是直接放在当前项目目录下的，所以有些项目我都放在公共的单独目录，以前一直用<code>ubuntu</code>，系统没变过，所以重装系统了虚拟环境都没啥问题,项目都可以直接运行。直到这次把系统从<code>fedora</code>切回<code>ubuntu</code>终于出现了问题，具体为:明明安装并且识别了<code>MySQLdb-python</code>，但是运行项目就报错，开始是由于没有安装<code>mysql</code>报错:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ImportError: libmysqlclient.so<span class="number">.18</span>: cannot <span class="built_in">open</span> shared object <span class="built_in">file</span>: No such <span class="built_in">file</span> <span class="keyword">or</span> <span class="built_in">directory</span></div></pre></td></tr></table></figure></p>
<p>然后安装mysql,装好了之后再运行还是报错,网上</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Python笔记/">Python笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/Python/">Python</a><a href="/tags/MySQL/">MySQL</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/02/06/CentOS-matplotlib-freetype-png/" title="CentOS matplotlib freetype png" itemprop="url">CentOS matplotlib freetype png</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2017-02-06T08:12:53.000Z" itemprop="datePublished"> 发表于 2017-02-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>服务器上用virtualenv部署安装matplotlib，始终无法安装，错误日志如下:<br><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">freetype</span>: no  [The C/C++ header for freetype2 (ft2build.h)</div><div class="line"></div><div class="line"><span class="vim">          could not <span class="keyword">be</span> found.  You may need <span class="keyword">to</span> install the</span></div><div class="line"></div><div class="line">          development package.]</div><div class="line"></div><div class="line">     pn<span class="variable">g:</span> <span class="keyword">no</span>  [pkg-config information <span class="keyword">for</span> <span class="string">'libpng'</span> could not</div><div class="line"></div><div class="line">          <span class="keyword">be</span> found.]</div><div class="line"></div><div class="line">   qhul<span class="variable">l:</span> yes [pkg-config information <span class="keyword">for</span> <span class="string">'qhull'</span> could not <span class="keyword">be</span></div><div class="line"></div><div class="line">          found. Using local <span class="keyword">copy</span>.]</div></pre></td></tr></table></figure></p>
<p>安装缺失依赖:<br><figure class="highlight elm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="title">sudo</span> yum install free<span class="keyword">type</span></div></pre></td></tr></table></figure></p>
<p>之后重新安装还是不行,彻底解决方案为:<br><figure class="highlight elm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="title">sudo</span> yum -y install free<span class="keyword">type</span> freetype-devel libpng-devel</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Linux使用/">Linux使用</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/Python/">Python</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Django/" title="Django">Django<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Flask/" title="Flask">Flask<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Git/" title="Git">Git<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Hive笔记/" title="Hive笔记">Hive笔记<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/JScript/" title="JScript">JScript<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java笔记/" title="Java笔记">Java笔记<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux使用/" title="Linux使用">Linux使用<sup>23</sup></a></li>
		  
		
		  
			<li><a href="/categories/MySQL/" title="MySQL">MySQL<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Python笔记/" title="Python笔记">Python笔记<sup>25</sup></a></li>
		  
		
		  
			<li><a href="/categories/Shell/" title="Shell">Shell<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Vim/" title="Vim">Vim<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/博客搭建/" title="博客搭建">博客搭建<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/开发环境/" title="开发环境">开发环境<sup>21</sup></a></li>
		  
		
		  
			<li><a href="/categories/数据挖掘/" title="数据挖掘">数据挖掘<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/杂七杂八/" title="杂七杂八">杂七杂八<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>64</sup></a></li>
			
		
			
				<li><a href="/tags/Python/" title="Python">Python<sup>42</sup></a></li>
			
		
			
				<li><a href="/tags/开发工具/" title="开发工具">开发工具<sup>19</sup></a></li>
			
		
			
				<li><a href="/tags/Web/" title="Web">Web<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/SQL/" title="SQL">SQL<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/Hive/" title="Hive">Hive<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Shell/" title="Shell">Shell<sup>12</sup></a></li>
			
		
			
				<li><a href="/tags/开发环境/" title="开发环境">开发环境<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Git/" title="Git">Git<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Vim/" title="Vim">Vim<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/大数据/" title="大数据">大数据<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Flask/" title="Flask">Flask<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Hadoop/" title="Hadoop">Hadoop<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/IDEA/" title="IDEA">IDEA<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Js/" title="Js">Js<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/JS/" title="JS">JS<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/可视化/" title="可视化">可视化<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Sublime-Text/" title="Sublime Text">Sublime Text<sup>2</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="LittleQ">LittleQ</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
