
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>LittleQ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="LittleQ">
    

    
    <meta name="description" content="数据开发工程师的成长历程">
<meta property="og:type" content="website">
<meta property="og:title" content="LittleQ">
<meta property="og:url" content="http://sjq597.github.io/page/5/index.html">
<meta property="og:site_name" content="LittleQ">
<meta property="og:description" content="数据开发工程师的成长历程">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LittleQ">
<meta name="twitter:description" content="数据开发工程师的成长历程">

    
    <link rel="alternative" href="/atom.xml" title="LittleQ" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="LittleQ" title="LittleQ"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="LittleQ">LittleQ</a></h1>
				<h2 class="blog-motto">爱好：写代码</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:sjq597.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/24/Hive-group-by-distinct性能调优/" title="Hive group by distinct性能调优" itemprop="url">Hive group by distinct性能调优</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-04-24T09:51:15.000Z" itemprop="datePublished"> 发表于 2016-04-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="Hive去重统计"><a href="#Hive去重统计" class="headerlink" title="Hive去重统计"></a>Hive去重统计</h3><p>相信使用Hive的人平时会经常用到去重统计之类的吧，但是好像平时很少关注这个去重的性能问题，但是当一个表的数据量非常大的时候，会发现一个简单的<code>count(distinct order_no)</code>这种语句跑的特别慢，和直接运行<code>count(order_no)</code>的时间差了很多，于是研究了一下。<br><strong>先说结论:</strong>能使用<code>group by</code>代替<code>distinc</code>就不要使用<code>distinct</code>，例子：</p>
<h3 id="实际论证"><a href="#实际论证" class="headerlink" title="实际论证"></a>实际论证</h3><p>order_snap为订单的快照表 总记录条数763191489，即将近8亿条记录,总大小:108.877GB,存储的是公司所有的订单信息，表的字段大概有20个,其中订单号是没有重复的,所以在统计总共有多少订单号的时候去重不去重结果都一样，我们来看看:<br>统计所有的订单有多少条条数，一个<code>count</code>函数就可以搞定的sql性能如何。</p>
<ul>
<li>DISTINCT</li>
</ul>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">select count(distinct order_no) from order_snap;</div><div class="line">Stage-Stage-1: Map:<span class="number"> 396 </span> Reduce:<span class="number"> 1 </span>  Cumulative CPU: 7915.67 sec   HDFS Read:<span class="number"> 119072894175 </span>HDFS Write:<span class="number"> 10 </span>SUCCESS</div><div class="line">Total MapReduce CPU Time Spent:<span class="number"> 0 </span>days<span class="number"> 2 </span>hours<span class="number"> 11 </span>minutes<span class="number"> 55 </span>seconds<span class="number"> 670 </span>msec</div><div class="line"><span class="symbol">OK</span></div><div class="line">_c0</div><div class="line">763191489</div><div class="line">Time taken: 1818.864 seconds, Fetched:<span class="number"> 1 </span>row(s)</div></pre></td></tr></table></figure>
<ul>
<li>GROUP BY</li>
</ul>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">select count(t.order_no) from (select order_no from order_snap group by order_no) t;</div><div class="line">Stage-Stage-1: Map:<span class="number"> 396 </span> Reduce:<span class="number"> 457 </span>  Cumulative CPU: 10056.7 sec   HDFS Read:<span class="number"> 119074266583 </span>HDFS Write:<span class="number"> 53469 </span>SUCCESS</div><div class="line">Stage-Stage-2: Map:<span class="number"> 177 </span> Reduce:<span class="number"> 1 </span>  Cumulative CPU: 280.22 sec   HDFS Read:<span class="number"> 472596 </span>HDFS Write:<span class="number"> 10 </span>SUCCESS</div><div class="line">Total MapReduce CPU Time Spent:<span class="number"> 0 </span>days<span class="number"> 2 </span>hours<span class="number"> 52 </span>minutes<span class="number"> 16 </span>seconds<span class="number"> 920 </span>msec</div><div class="line"><span class="symbol">OK</span></div><div class="line">_c0</div><div class="line">763191489</div><div class="line">Time taken: 244.192 seconds, Fetched:<span class="number"> 1 </span>row(s)</div></pre></td></tr></table></figure>
<p><strong>结论:</strong>第二种写法的性能是第一种的<code>7.448499541</code>倍<br>注意到为什么会有这个差异，Hadoop其实就是处理大数据的，Hive并不怕数据有多大，怕的就是数据倾斜,我们看看两者的输出信息:<br><figure class="highlight tap"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># distinct</span></div><div class="line">Stage-Stage-1: Map:<span class="number"> 396 </span> Reduce:<span class="number"> 1 </span>  Cumulative CPU: 7915.67 sec   HDFS Read:<span class="number"> 119072894175 </span>HDFS Write:<span class="number"> 10 </span>SUCCESS</div><div class="line"><span class="comment"># group by</span></div><div class="line">Stage-Stage-1: Map:<span class="number"> 396 </span> Reduce:<span class="number"> 457 </span>  Cumulative CPU: 10056.7 sec   HDFS Read:<span class="number"> 119074266583 </span>HDFS Write:<span class="number"> 53469 </span>SUCCESS</div></pre></td></tr></table></figure></p>
<p>发现猫腻了没有，使用distinct会将所有的order_no都shuffle到一个reducer里面，这就是我们所说的数据倾斜，都倾斜到一个reducer这样性能能不低么？再看第二个，直接按订单号分组，起了457个<code>reducer</code>，将数据分布到多台机器上执行，时间当然快了.<br>由于没有手动指定Reduce的个数，Hive会根据数据的大小动态的指定Reduce大小，你也可以手动指定<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hive&gt; set mapred<span class="selector-class">.reduce</span><span class="selector-class">.tasks</span>=<span class="number">100</span>；</div></pre></td></tr></table></figure></p>
<p>类似这样,所以如果数据量特别大的情况下，尽量不要使用<code>distinct</code>吧。<br>但是如果你想在一条语句里看总记录条数以及去重之后的记录条数，那没有办法过滤，所以你有两个选择，要么使用两个sql语句分别跑，然后union all或者就使用普通的distinct。具体来说得看具体情况，直接使用distinct可读性好，数据量如果不大的话推荐使用，如果数据太大了，性能受到影响了，再考虑优化。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Hive笔记/">Hive笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Hive/">Hive</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/24/SSH-免密码登陆/" title="SSH 免密码登陆" itemprop="url">SSH 免密码登陆</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-04-24T03:07:12.000Z" itemprop="datePublished"> 发表于 2016-04-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>开发工作中，经常需要使用ssh来登录服务器，密码一般都是机器生成的，特别难记，关键是机器多了这样也麻烦，所以配置一下ssh面密码登录，节省时间。</p>
<h3 id="系统说明"><a href="#系统说明" class="headerlink" title="系统说明"></a>系统说明</h3><p>本地机器：Ubuntu<br>服务器：CentOS</p>
<h3 id="大概流程"><a href="#大概流程" class="headerlink" title="大概流程"></a>大概流程</h3><p>需要服务器和本机都做一定的配置才能免密码登陆</p>
<h4 id="本地机器配置"><a href="#本地机器配置" class="headerlink" title="本地机器配置"></a>本地机器配置</h4><ol>
<li>通过<code>ssh-keygen</code>产生RSA公私密钥对</li>
</ol>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen`</div></pre></td></tr></table></figure>
<p>然后一路回车，不要输入任何密码和字符，最后在<code>~/.ssh/</code>文件夹中会生成两个文件<code>id_rsa</code>和<code>id_rsa.pub</code>两个文件，然后需要修改问年间权限<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>chmod <span class="number">775</span> ~<span class="regexp">/.ssh</span></div></pre></td></tr></table></figure></p>
<p>将<code>id_rsa.pub</code>上传到服务器的<code>~/.ssh/</code>文件夹下，其实也不用上传，直接把这个文件的内容复制然后在服务器的对应文件夹下创建文件，然后写入也是一样的。</p>
<ol>
<li>在<code>~/.ssh/</code>文件夹里创建配置文件<code>config</code><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Host my_server <span class="comment">// 服务器别名</span></div><div class="line">    HostName <span class="number">192.168</span><span class="number">.1</span><span class="number">.120</span>  <span class="comment">// 服务器ip</span></div><div class="line">    User root   <span class="comment">//登录用户名</span></div><div class="line">    Port <span class="number">22</span>     <span class="comment">// ssh端口</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="服务器机器配置"><a href="#服务器机器配置" class="headerlink" title="服务器机器配置"></a>服务器机器配置</h4><ol>
<li>修改<code>/etc/ssh/sshd_config</code>文件,将下面几行前面的注释去掉<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">RSAAuthentication</span> <span class="literal">yes</span></div><div class="line">PubkeyAuthentication <span class="literal">yes</span></div><div class="line">AuthorizedKeysFile      %h/.ssh/authorized_keys</div></pre></td></tr></table></figure>
</li>
</ol>
<p>如果已经注释掉了就不用配置则这里了，</p>
<ol>
<li>在用户目录下创建<code>.ssh</code>文件夹，如果有就不用创建了，具体路径为<code>~/.ssh/</code><br>然后在<code>~/.ssh/</code>文件夹下面创建<code>authorized_keys</code>文件,并将之前上传到服务器上的<code>id_rsa.pub</code>文件里的内容拷贝到<code>authorized_keys</code>中,保存之后重启ssh服务</li>
</ol>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>cd ~<span class="regexp">/.ssh/</span></div><div class="line"><span class="variable">$ </span>sudo cat id_rsa.pub &gt; authorized_keys</div><div class="line"><span class="variable">$ </span>sudo chmod <span class="number">644</span> authorized_keys</div><div class="line"><span class="variable">$ </span>sudo service sshd restart</div></pre></td></tr></table></figure>
<h4 id="本机测试"><a href="#本机测试" class="headerlink" title="本机测试"></a>本机测试</h4><p>通过终端连接服务器<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>ssh my_server</div></pre></td></tr></table></figure></p>
<p><strong>注意:</strong>如果这一步出现<code>bad owers</code>等错误，记得要修改本机的文件权限<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">$</span> chmod <span class="number">700</span> ~/.ssh</div><div class="line"><span class="symbol">$</span> chmod go+rwx ~/.ssh<span class="comment">/*</span></div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Linux使用/">Linux使用</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/23/脚本语言时间处理函数总结/" title="脚本语言时间处理函数总结" itemprop="url">脚本语言时间处理函数总结</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-04-23T05:55:58.000Z" itemprop="datePublished"> 发表于 2016-04-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>平时做数据分析统计跑程序脚本需呀经常用到各种时间的转化和传入，日期的格式化，日期的相减，字符串时间互转。每次都是现查，比较浪费时间，这里把平时常用到的总结一下，因为涉及到好几个脚本语言的时间函数，我也记不住，干脆整理出一个查表更方便。主要涉及到Shell,Python,MySQL,Hive这几个脚本</p>
<h3 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h3><p>Shell感觉是最生涩的，最恶心的就是空格不能多也不能少，也没个IDE命令提示啥的，用的也最少，所以老容易忘</p>
<ul>
<li>常用的几种用法</li>
</ul>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ <span class="keyword">date</span>	以默认格式显示当前日期(Fri Nov <span class="number">18</span> <span class="number">10</span>:<span class="number">38</span>:<span class="number">07</span> CST <span class="number">2011</span>)</div><div class="line">$ <span class="keyword">date</span> +%Y%m%d             以yyyymmdd格式输出(<span class="number">20160423</span>)</div><div class="line">$ <span class="keyword">date</span> +<span class="string">"%Y%m%d %A"</span>		以<span class="string">"yyyymmdd 星期"</span>格式输出(<span class="number">20160423</span> Friday)  </div><div class="line">$ <span class="keyword">date</span> -d <span class="string">"1 day"</span> +%Y%m%d	显示一天后的日期(<span class="number">20160424</span>)</div><div class="line">$ <span class="keyword">date</span> -d <span class="string">"3 day ago"</span> +%Y-%m-%d	以指定格式显示<span class="number">3</span>天前的日期(<span class="number">2016</span><span class="number">-04</span><span class="number">-26</span>)</div><div class="line">$ <span class="keyword">date</span> -d <span class="string">"1 month"</span> +%Y-%m-%d	以指定格式显示一个月后的日期</div><div class="line">$ <span class="keyword">date</span> -d <span class="string">"1 month"</span> +%s	以指定格式显示一个月后的日期的秒数，%S为当前的秒数(<span class="number">0</span>～<span class="number">59</span>)</div><div class="line">$ <span class="keyword">date</span> -d <span class="string">"1970-01-01 CST 1 second"</span> +%s	显示从<span class="number">1970</span><span class="number">-01</span><span class="number">-01</span> CST起<span class="number">1</span>秒后的秒数</div></pre></td></tr></table></figure>
<ul>
<li>用<code>-d</code>这个参数可以产生各种时间组合</li>
</ul>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ <span class="keyword">date</span> -d <span class="string">"-2 day 20160423"</span> +%Y%m%d</div><div class="line"><span class="number">20160421</span></div><div class="line">$ <span class="keyword">date</span> -d <span class="string">"+7 day 20160423"</span> +%Y%m%d</div><div class="line"><span class="number">20160430</span></div></pre></td></tr></table></figure>
<ul>
<li>日期循环</li>
</ul>
<p>这个场景还是很常用的，一般脚本都是默认跑当天或者前一天的数据，如果要一次重跑每一天的数据，可能就需要用到Shell日期循环：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">begin_date=<span class="string">'20160401'</span></div><div class="line">end_date=<span class="string">'20160423'</span></div><div class="line"></div><div class="line"><span class="keyword">while</span> [ <span class="string">"<span class="variable">$begin_date</span>"</span> != <span class="string">"<span class="variable">$end_date</span>"</span> ]</div><div class="line"><span class="keyword">do</span></div><div class="line">	<span class="built_in">echo</span> <span class="variable">$begin_date</span></div><div class="line">	begin_date=`date <span class="_">-d</span> <span class="string">"1 day <span class="variable">$begin_date</span>"</span> +%Y%m%d`</div><div class="line"><span class="keyword">done</span></div></pre></td></tr></table></figure></p>
<p><strong>注意:</strong>一定要用<code>&quot;&quot;</code>把条件扩起来，<code>!=</code>史比较字符串的。</p>
<h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><p>Python里用的比较多的就是两个包<code>datetime</code>,<code>time</code></p>
<ul>
<li>datetime</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">datetime.datetime.now().strftime(<span class="string">'%Y-%m-%d'</span>)	<span class="comment"># 2016-04-23</span></div><div class="line">str(datetime.datetime.now())[:<span class="number">10</span>]	<span class="comment"># 2016-04-23</span></div><div class="line">(datetime.datetime.now() + datetime.timedelta(days=<span class="number">-1</span>)).strftime(<span class="string">'%Y-%m-%d'</span>)	<span class="comment"># 2016-04-22</span></div><div class="line">datetime.datetime.strptime(<span class="string">'2016-04-23'</span>, <span class="string">'%Y-%m-%d'</span>)	<span class="comment"># 将字符串格式为datetime对象</span></div><div class="line">(d1 - d2 ).days	<span class="comment"># d1,d2 为datetime对象，计算连个日期之间相差多少天</span></div><div class="line">(d1 - d2 ).seconds	<span class="comment"># d1,d2 为datetime对象，计算连个日期之间相差多少秒</span></div><div class="line">datetime.weekday()	<span class="comment"># 返回weekday，如果是星期一，返回0；如果是星期2，返回1，以此类推；</span></div><div class="line">datatime.isoweekday()	<span class="comment"># 返回weekday，如果是星期一，返回1；如果是星期2，返回2，以此类推；</span></div><div class="line">datetime.fromtimestamp(timestamp)	<span class="comment"># 根据给定的时间戮，返回一个datetime对象；</span></div></pre></td></tr></table></figure>
<ul>
<li>time<figure class="highlight cos"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">time.strftime('<span class="built_in">%Y</span>-<span class="built_in">%m</span>-<span class="built_in">%d</span> <span class="built_in">%H</span>:<span class="built_in">%M</span>:<span class="built_in">%S</span>') # 格式化输出当前时间</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h3><p>主要是一些时间转换函数<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="section">mysql&gt; select unix_timestamp('2016-01-01 10:10:10');</span></div><div class="line">+---------------------------------------+</div><div class="line"><span class="section">| unix_timestamp('2016-01-01 10:10:10') |</span></div><div class="line">+---------------------------------------+</div><div class="line"><span class="section">|                            1451614210 |</span></div><div class="line">+---------------------------------------+</div><div class="line">1 row in set (0.01 sec)</div><div class="line"></div><div class="line"><span class="section">mysql&gt; select from_unixtime(unix_timestamp());</span></div><div class="line">+---------------------------------+</div><div class="line"><span class="section">| from_unixtime(unix_timestamp()) |</span></div><div class="line">+---------------------------------+</div><div class="line"><span class="section">| 2016-06-18 13:07:53             |</span></div><div class="line">+---------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="Hive"><a href="#Hive" class="headerlink" title="Hive"></a>Hive</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">to_date('2016<span class="string">-04</span><span class="string">-23</span>')	# 2016<span class="string">-04</span><span class="string">-23</span></div><div class="line">to_date('2016<span class="string">-04</span><span class="string">-23</span> 12:21:10')	# 2016<span class="string">-04</span><span class="string">-23</span></div><div class="line">datediff(end_time, start_time)	# 返回日期相隔天数</div></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Shell/">Shell</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Python/">Python</a><a href="/tags/Hive/">Hive</a><a href="/tags/Shell/">Shell</a><a href="/tags/MySQL/">MySQL</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/23/Ubuntu-your-firefox-profile-cannot-be-loaded/" title="Ubuntu your firefox profile cannot be loaded" itemprop="url">Ubuntu your firefox profile cannot be loaded</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-04-23T05:43:51.000Z" itemprop="datePublished"> 发表于 2016-04-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>一时手贱把<code>~/tmp/</code>文件夹删了，结果火狐打不开了,最后在网上找了很久才找到解决方案，记录一下防止下次手贱了。<br>大部分文章只提到，把<code>~/.mozilla</code>文件的权限更改成当前用户和用户组，就可以了：</p>
<ul>
<li>察看.mozilla文件件的权限属性</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ls <span class="_">-l</span></div></pre></td></tr></table></figure>
<p>如果<code>~/.mozilla</code>文件夹的属性是<code>root</code>则改变文件夹的属性为当前用户。命令如下：</p>
<ul>
<li>需改文件夹权限</li>
</ul>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>sudo chown -hR <span class="symbol">zhangsan:</span>zhangsan ~<span class="regexp">/.mozilla/</span></div></pre></td></tr></table></figure>
<p>如此操作后，其实firefox还是启动不了，因为，还有一个文件夹的属性仍然是root，这个文件夹就是<code>~/.cache/mozilla</code>。<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">$</span> cd ~/.cache</div><div class="line"><span class="symbol">$</span> ls -l </div><div class="line"><span class="symbol">$</span> sudo chown -hR zhangsan:zhangsan mozilla/</div></pre></td></tr></table></figure></p>
<p>经过如此折腾，双击firefox图标，才能正常启动firefox浏览器。<br>太坑爹了。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Linux使用/">Linux使用</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/23/MySQL过滤中文/" title="MySQL过滤中文" itemprop="url">MySQL过滤中文</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-04-23T05:36:48.000Z" itemprop="datePublished"> 发表于 2016-04-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>有时候在统计的时候，需要把包含中文的列过滤掉，主要是存在历史脏数据，比如我们的客户端存在新老客户端之分，日志记录不一样，所有有些活动或者名字在pv,uv的时候不一致，例如活动的名字一般就算有英文也不可能全是英文，所以我们在计算的时候，需要把全为英文的过滤掉:<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">where</span> LENGTH(`col_name`) &lt;&gt; CHARACTER_LENGTH(`col_name`)</div></pre></td></tr></table></figure></p>
<p>这里的<code>col_name</code>是mysql里表的列名</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/SQL/">SQL</a><a href="/tags/Shell/">Shell</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/23/MySQL-创建用户以及附权限/" title="MySQL 创建用户以及附权限" itemprop="url">MySQL 创建用户以及附权限</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-04-23T04:50:52.000Z" itemprop="datePublished"> 发表于 2016-04-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>有时候为了测试，需要单独建一些MySQL用户来限定这部分用户的权限，并且需要限定哪些ip可以访问到我的数据库，具体步骤为,在装有MysQL的机器上执行：</p>
<ol>
<li>创建用户，一般为了避免暴露自己的密码习惯，可以用Linux自带的生成密码命令</li>
</ol>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">➜✗ md5pass</div><div class="line">$1$6Fy9BTnB$Ruw50OR1oiUCwP73abnlD0</div></pre></td></tr></table></figure>
<p><strong>备注:</strong><code>6Fy9BTnB</code>为用户名，<code>Ruw50OR1oiUCwP73abnlD0</code>为密码<br>然后执行MySQL命令，语法为:<br><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql&gt; <span class="keyword">CREATE</span> USER <span class="string">'username'</span>@<span class="string">'host'</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">'password'</span>;</div></pre></td></tr></table></figure></p>
<p>假设你机器IP为<code>192.168.1.101</code>,则对应的命令为:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'6Fy9BTnB'</span>@<span class="string">'Ruw50OR1oiUCwP73abnlD0'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'192.168.1.101'</span>;</div></pre></td></tr></table></figure></p>
<ol>
<li>给MySQL用户附权限</li>
</ol>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql&gt; grant 权限<span class="number">1</span>,权限<span class="number">2</span>,<span class="params">...</span>权限n <span class="keyword">on</span> 数据库名称.表名称 <span class="keyword">to</span> 用户名@用户地址 identified <span class="keyword">by</span> <span class="string">'password'</span>;</div></pre></td></tr></table></figure>
<p>例如:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">mysql</span>&gt;<span class="selector-tag">grant</span> <span class="selector-tag">select</span>,<span class="selector-tag">insert</span>,<span class="selector-tag">update</span>,<span class="selector-tag">delete</span>,<span class="selector-tag">create</span>,<span class="selector-tag">drop</span> <span class="selector-tag">on</span> <span class="selector-tag">order</span><span class="selector-class">.oerder_info</span> <span class="selector-tag">to</span> 6<span class="selector-tag">Fy9BTnB</span>@<span class="keyword">192</span>.<span class="keyword">168</span>.<span class="keyword">1</span>.<span class="keyword">101</span> identified by <span class="string">'Ruw50OR1oiUCwP73abnlD0'</span>;</div></pre></td></tr></table></figure></p>
<p>只有来自192.168.1.101的用户6Fy9BTnB才能有对应的访问权限，其他的机器是无法访问的。<br>这里还有个快捷的操作，如果要附所有表的的所有操作权限，不可能一个一个去写，命令如下:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">mysql</span>&gt;<span class="selector-tag">grant</span> <span class="selector-tag">all</span> <span class="selector-tag">privileges</span> <span class="selector-tag">on</span> <span class="selector-tag">order</span><span class="selector-class">.oerder_info</span> <span class="selector-tag">to</span> 6<span class="selector-tag">Fy9BTnB</span>@<span class="keyword">192</span>.<span class="keyword">168</span>.<span class="keyword">1</span>.<span class="keyword">101</span> identified by <span class="string">'Ruw50OR1oiUCwP73abnlD0'</span>;</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/SQL/">SQL</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/02/25/CentOS-pip-无法安装python包/" title="CentOS pip 无法安装python包" itemprop="url">CentOS pip 无法安装python包</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-02-25T12:56:44.000Z" itemprop="datePublished"> 发表于 2016-02-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>最初源于一个错误，在使用python包<code>sqlalchemy</code>执行sql统计的时候，报错：</p>
<blockquote>
<p>This result object is closed sqlalchemy</p>
</blockquote>
<p>网上查阅了一下，貌似是多个线程共同使用一个会话或者连接导致，由于之前在其他机器上使用的1.0.8版本同样的sql都没有报过错，我直接用yum安装的0.7.x版本，可能是这个版本比较老，于是我想重新使用pip安装最新版，由于之前升级python，pip是我编译安装的最新版，CentOS自带的是1.4.x版本，我安装的是7.1.2，所以才会有下面的各种问题。<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo pip <span class="keyword">install</span> sqlalchemy</div></pre></td></tr></table></figure></p>
<p>报错：</p>
<blockquote>
<p>Requirement already satisfied (use –upgrade to upgrade): sqlalchemy in /home/q/python27/lib/python2.7/site-packages<br>You are using pip version 7.1.2, however version 8.0.2 is available.<br>You should consider upgrading via the ‘pip install –upgrade pip’ command.</p>
</blockquote>
<p>于是加上建议重新安装：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo pip install --upgrade sqlalchemy</div></pre></td></tr></table></figure></p>
<p>仍然报错：</p>
<blockquote>
<p>The repository located at pypi.corp.qunar.com is not a trusted or secure host and is being ignored. If this repository is available via HTTPS it is recommended to use HTTPS instead, otherwise you may silence this warning and allow it anyways with ‘–trusted-host pypi.abc.def.com’.</p>
</blockquote>
<p>依然按照建议加上参数：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo pip install --trusted-host pypi.abc.def.com --upgrade sqlalchemy</div></pre></td></tr></table></figure></p>
<p>然后就安装成功了。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Python笔记/">Python笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/Python/">Python</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/02/25/matplotlib-中文乱码/" title="matplotlib 中文乱码" itemprop="url">matplotlib 中文乱码</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-02-25T12:37:40.000Z" itemprop="datePublished"> 发表于 2016-02-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>在使用matplotlib画图的时候，出现了以下错误：</p>
<blockquote>
<p>/home/q/python27/lib/python2.7/site-packages/matplotlib-1.5.1-py2.7-linux-x86_64.egg/matplotlib/font_manager.py:1288: UserWarning: findfont: Font family [u’sans-serif’] not found. Falling back to Bitstream Vera Sans<br>  (prop.get_family(), self.defaultFamily[fontext]))</p>
</blockquote>
<p>这让我十分费解，应该有这个字体的，于是让其他人登陆跑同样的程序则可以运行，于是我好奇登陆了交互式环境，引入<code>matplotlib</code>包看了一下，结果出现以下错误：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">Python 2.7.4 (default, Dec 24 2013, 16:30:42)</div><div class="line">[GCC 4.4.6 20110731 (Red Hat 4.4.6-3)] on linux2</div><div class="line">Type <span class="string">"help"</span>, <span class="string">"copyright"</span>, <span class="string">"credits"</span> or <span class="string">"license"</span> <span class="keyword">for</span> more information.</div><div class="line">&gt;&gt;&gt; import matplotlib</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line 1, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/site-packages/matplotlib-1.5.1-py2.7-linux-x86_64.egg/matplotlib/__init__.py"</span>, line 111, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    import inspect</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/inspect.py"</span>, line 42, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    from collections import namedtuple</div><div class="line">  File <span class="string">"collections.py"</span>, line 17, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    import numpy as np</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/site-packages/numpy-1.10.4-py2.7-linux-x86_64.egg/numpy/__init__.py"</span>, line 180, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    from . import add_newdocs</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/site-packages/numpy-1.10.4-py2.7-linux-x86_64.egg/numpy/add_newdocs.py"</span>, line 13, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    from numpy.lib import add_newdoc</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/site-packages/numpy-1.10.4-py2.7-linux-x86_64.egg/numpy/lib/__init__.py"</span>, line 8, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    from .type_check import *</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/site-packages/numpy-1.10.4-py2.7-linux-x86_64.egg/numpy/lib/type_check.py"</span>, line 11, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    import numpy.core.numeric as _nx</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/site-packages/numpy-1.10.4-py2.7-linux-x86_64.egg/numpy/core/__init__.py"</span>, line 58, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    from numpy.testing import Tester</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/site-packages/numpy-1.10.4-py2.7-linux-x86_64.egg/numpy/testing/__init__.py"</span>, line 10, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    from unittest import TestCase</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/unittest/__init__.py"</span>, line 58, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    from .result import TestResult</div><div class="line">  File <span class="string">"/home/q/python27/lib/python2.7/unittest/result.py"</span>, line 9, <span class="keyword">in</span> &lt;module&gt;</div></pre></td></tr></table></figure></p>
<p>这个时候就很郁闷了，服务器上的<code>matplotlib</code>都是我装的，结果反倒我不能用，但是后来在网上看到了解决方案:原来出现这个问题是由于用户目录下的缓存导致的，需要清空缓存:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo rm -r ~/.cache/</div></pre></td></tr></table></figure></p>
<p>清空缓存之后就可以运行了。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Python笔记/">Python笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/Python/">Python</a><a href="/tags/matplotlib/">matplotlib</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/02/24/slice-indices-must-be-integers-or-None-or-have-an-index-method/" title="slice indices must be integers or None or have an __index__ method" itemprop="url">slice indices must be integers or None or have an __index__ method</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-02-24T12:30:51.000Z" itemprop="datePublished"> 发表于 2016-02-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>写了个脚本读取指定文件的某一行到某一行，然后利用行数据做一些匹配提取，在终端中调用方式为：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python run.py file_name beg_line end_line</div></pre></td></tr></table></figure></p>
<p>代码如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    file_name = sys.argv[<span class="number">1</span>]</div><div class="line">    beg_line = sys.argv[<span class="number">2</span>]</div><div class="line">    end_line = sys.argv[<span class="number">3</span>]</div><div class="line"></div><div class="line">    <span class="keyword">with</span> open(file_name, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</div><div class="line">        <span class="keyword">for</span> val <span class="keyword">in</span> f.readlines()[beg_line:end_line]:</div><div class="line">            <span class="keyword">print</span> val.strip()</div></pre></td></tr></table></figure></p>
<p>当我在终端中输入：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python run.py 12 20</div></pre></td></tr></table></figure></p>
<p>时，报错：</p>
<blockquote>
<p>TypeError: slice indices must be integers or None or have an <strong>index</strong> method</p>
</blockquote>
<p>解决办法，python作为一个解释型语言，对类型没有强制检查，我们虽然输入的是两个数字，但是实际上<strong>beg_line</strong>,<strong>end_line</strong>是<code>str</code>类型,所以传入切片的类型不对，就会报上面的错。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Python笔记/">Python笔记</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Python/">Python</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/02/20/命令行建github仓库/" title="命令行建github仓库" itemprop="url">命令行建github仓库</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="LittleQ" target="_blank" itemprop="author">LittleQ</a>
		
  <p class="article-time">
    <time datetime="2016-02-20T10:39:22.000Z" itemprop="datePublished"> 发表于 2016-02-20</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>经常使用github的人应该不陌生，大多数人使用都是先在github的网站上建一个仓库，然后拷贝ssh或者http的地址，然后使用<code>git clone</code>命令来初始化项目，这样比较麻烦，其实可以直接通过命令行的方式来在github上建立一个仓库，然后直接把本地项目推送到github上的。</p>
<h3 id="命令行建立仓库"><a href="#命令行建立仓库" class="headerlink" title="命令行建立仓库"></a>命令行建立仓库</h3><ol>
<li><p>认证用户发一个POST就可以新建，于是使用curl构造POST，没有的自己安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -u <span class="string">'username'</span> https://api.github.com/user/repos <span class="_">-d</span> <span class="string">'&#123;"name":"RepoName"&#125;'</span></div></pre></td></tr></table></figure>
</li>
<li><p>然后把刚才建的仓库的地址加到git配置里</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git remote add origin git@github.com:username/RepoName.git</div></pre></td></tr></table></figure>
</li>
<li><p>推送到github</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push -u origin master</div></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>注意:</strong>username换成你在github上的注册名,RepoName就是你打算在github上建立的仓库名，注意不要替换user</p>
<p>通过这几步就可以在命令行里完成所有的操作。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Git/">Git</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/Git/">Git</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/4/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/6/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Django/" title="Django">Django<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Flask/" title="Flask">Flask<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Git/" title="Git">Git<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Hive笔记/" title="Hive笔记">Hive笔记<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/JScript/" title="JScript">JScript<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java笔记/" title="Java笔记">Java笔记<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux使用/" title="Linux使用">Linux使用<sup>23</sup></a></li>
		  
		
		  
			<li><a href="/categories/MySQL/" title="MySQL">MySQL<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Python笔记/" title="Python笔记">Python笔记<sup>24</sup></a></li>
		  
		
		  
			<li><a href="/categories/Shell/" title="Shell">Shell<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Vim/" title="Vim">Vim<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/博客搭建/" title="博客搭建">博客搭建<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/开发环境/" title="开发环境">开发环境<sup>22</sup></a></li>
		  
		
		  
			<li><a href="/categories/数据挖掘/" title="数据挖掘">数据挖掘<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/杂七杂八/" title="杂七杂八">杂七杂八<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>65</sup></a></li>
			
		
			
				<li><a href="/tags/Python/" title="Python">Python<sup>41</sup></a></li>
			
		
			
				<li><a href="/tags/开发工具/" title="开发工具">开发工具<sup>19</sup></a></li>
			
		
			
				<li><a href="/tags/SQL/" title="SQL">SQL<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/Hive/" title="Hive">Hive<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Web/" title="Web">Web<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Shell/" title="Shell">Shell<sup>12</sup></a></li>
			
		
			
				<li><a href="/tags/开发环境/" title="开发环境">开发环境<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Git/" title="Git">Git<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Vim/" title="Vim">Vim<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/大数据/" title="大数据">大数据<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Flask/" title="Flask">Flask<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Hadoop/" title="Hadoop">Hadoop<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/IDEA/" title="IDEA">IDEA<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/可视化/" title="可视化">可视化<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/JS/" title="JS">JS<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Js/" title="Js">Js<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Sublime-Text/" title="Sublime Text">Sublime Text<sup>2</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="LittleQ">LittleQ</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
